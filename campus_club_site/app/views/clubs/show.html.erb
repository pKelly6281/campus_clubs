<% provide(:title, @club.name) %>

<div class="row">
	<h1><%= @club.name %></h1>
</div>
<!-- User Club ToolBar -->
<div class="row">
	<div class="col-sm-1 text-left">
		
		<div class = "btn btn-default">
			<span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
			<%= link_to "Edit Club", edit_club_path(@club.id)%>
		</div>

	</div>

	<div class="col-sm-1 text-left">

		<div class = "btn btn-default">
			<span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
			<%= link_to "Add Club Eboard", eboardAdd_path%>
		</div>

	</div>

	<div class="col-sm-8">

	</div>

	<!-- TODO Figure out how to do favorite functionality with AJAX-->


	<div class="col-sm-2 text-right" id="favorite">
		<button id='favorite' class = "btn btn-default">
			<span  id= 'favorite-span'class="glyphicon glyphicon-star-empty" aria-hidden="true">Favorite</span>
		</button>
	</div>


<!-- Club Information -->

<div class="row">
	<div class="col-sm-3">
		<table class="table table-condensed">
			<tr>
				<th>Meeting Time and Location</th>
			</tr>
			<tr>
				<td><%=@club.meetTime %> @ <%=@club.meetLoc %></td>
			</tr>
		</table>

	</div>

	<div class="col-sm-6">
		<table class="table condensed">
			<tr>
				<th>Description</th>
			</tr>
			<tr>
				<td><%= @club.desc %></td>
			</tr>
		</table>

	</div>

	<div class="col-sm-3">
		<table class="table table-condensed" > 
			<tr> 
				<th>Member Name</th>
				<th id="test">Position</th>
			</tr>

			<tr>
				<td>Patrick Kelly</td>
				<td>President</td>
			</tr>
		</table>

	</div>
</div>
<script type="text/javascript">
	isFavorite();
	$("#favorite").click(function(){
		toggleFavorite();
	});
	function toggleFavorite(){
		var base_url = "http://localhost:3000/isFavorite?id=";
		var id = <%== j @club.id.to_s%>;
		$.get(base_url.concat(id), function(response){
		if(isFavorite()){
			base_url = "http://localhost:3000/favorite?id=";
			$.get(base_url.concat(id), function(response)){
				isFavorite();
			}
		}
		else{
				base_url = "http://localhost:3000/unfavorite?id=";
				$.get(base_url.concat(id), function(response)){
					isFavorite();
			}
		}
		});
	}
	function isFavorite(){
		var base_url = "http://localhost:3000/isFavorite?id=";
		var id = <%== j @club.id.to_s%>
		$.get(base_url.concat(id), function(response){
		if(response=='!favorite')
		{
			
			$('#favorite-span').addClass("glyphicon-star").removeClass("glyphicon-star-empty");
			return false;

		}
		else{
			$('#favorite-span').addClass("glyphicon-star-empty").removeClass("glyphicon-star");
			return true;
		}
		});
	}
	function people(){
		var base_url = "http://localhost:3000/favorite?id=";
		var id = <%== j @club.id.to_s%>
		$.get(base_url.concat(id), function(response){
		if(response==null)
			console.log("No response");
		else
			console.log(response);
	});
	}
	
</script>